<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Redirigiendo al Control…</title>
  <style>
    html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Inter,Segoe UI,Roboto,Arial}
    .wrap{height:100%;display:grid;place-items:center;background:#fff}
    .card{max-width:520px;padding:20px 22px;border:1px solid #e5e7eb;border-radius:14px;box-shadow:0 8px 24px rgba(16,24,40,.06)}
    h1{margin:0 0 8px 0;font-size:18px;font-weight:800}
    p{margin:0 0 10px 0;color:#475569}
    a.btn{display:inline-block;margin-top:8px;padding:10px 14px;border:1px solid #2563eb;border-radius:10px;font-weight:700;color:#2563eb;text-decoration:none}
  </style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <h1>Abriendo el Control…</h1>
    <p>Si no se abre automáticamente, toca el botón.</p>
    <a id="btn" class="btn" href="#" rel="noopener">Abrir control</a>
  </div>
</div>

<script>
  // URL base de tu Apps Script
  const BASE = "https://script.google.com/macros/s/AKfycbxO4YJ6dLcuK_S4VovC064dhynYtpcLWXntZYYpbIm4wRj4dNKlbQ2CkguKwvJ8B4N6eg/exec";
  const qs = new URLSearchParams(location.search);
  const room = qs.get("room") || "sala-parto";
  const target = `${BASE}?page=control&room=${encodeURIComponent(room)}`;

  // 1) Redirige en la ventana principal (evita iframe y evita el 403 en iOS)
  try { window.top.location.replace(target); } catch(e) { location.href = target; }

  // 2) Botón manual por si el navegador bloquea la redirección
  document.getElementById("btn").href = target;
</script>
</body>
</html>
